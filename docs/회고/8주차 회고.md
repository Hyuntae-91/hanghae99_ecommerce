# 8주차 회고

## 배운점

### Async 어노테이션 적용점
자바, 스프링을 잘 모르는 상태에서, ChatGPT 에게 코드를 물어보다보니, class 단위에 @Async 를 붙이게 되었다.  
단순히 언어, 프레임워크의 차이라고 인식했는데, 알고보니 그게 아니라, GPT 가 거짓말을 한 것이였다...ㅠ  
Method 레벨에 적용하는게 맞는 선택이다.  
한번 더 검증을 하지 못 한 나의 실수이고, GPT 를 너무 신뢰해서는 안된다는 생각을 다시 상기한 계기가 되었다.  

### 이벤트 기반 처리
이벤트 기반 처리를 시작 하기 전 필수 작업이 있다.  
DDD 를 명확하게 구현하여서, 각 도메인별로 결합을 끊을 수 있는 상태로 코드가 짜져 있어야 한다  
그 이후 이벤트 기반으로 각 서비스를 연결하여, 언제든 서버를 분할 할 수 있도록 수정하였다  
다만, 아직은 트랜잭션을 하나로 묶어서 BEFORE COMMIT 으로 처리를 해 두었다  
9주차 주제인 카프카를 활용하여, Application event 를 대체하고, 그 뒤에 트랜잭션 분리, 보상트랜잭션 설계도 하여서 완전히 서비스를 분해할 수 있는 상태로 수정 할 예정이다


### 도메인 간 처리를 트랜잭션 대신 이벤트로 설계했을 때 얻는 장점
서비스를 도메인 별로 분해하여 Micro Service Architecture 로 발전시킬 수 있다.  
물론 초기에는 모놀리식으로 서비스를 운영하겠지만, 특정 도메인에 트래픽이 과도하게 몰리기 시작 할 경우, 도메인을 별도의 프로젝트로 분리하고
서비스로 운영하여, 기존 서비스와 분리시킬 수 있다.  
이런 설계를 함으로써, 장애 전파의 최소화, 유연한 서버 설계등 많은 장점을 얻을 수 있다.  
다만, MSA 구조로 서비스를 각각 쪼개어 운영 할 경우, 서비스 구조를 파악하기 힘든 단점도 존재하여 서비스가 크고, 팀의 단위가 명확하지 않다면
오히려 단점으로 작용할 수 있어, 기업의 상황에 맞게 운영하는것이 필요하다


